<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="js/jquery/jquery-ui-1.8.17.custom.min.js"></script>
	<script type="text/javascript" src="jspdf.js"></script>

	<script type="text/javascript" src="jspdf.plugin.addimage.js"></script>

	<script type="text/javascript" src="jspdf.plugin.standard_fonts_metrics.js"></script>
	<script type="text/javascript" src="jspdf.plugin.split_text_to_size.js"></script>
	<script type="text/javascript" src="jspdf.plugin.from_html.js"></script>
	<script type = "text/javascript" ></script>

    <style>
        p{
      font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      font-weight: bolder;
      font-style: italic;
      color: rgb(76, 0, 255);
    }
    center{ 
        background-color: rgb(204, 204, 250);
        margin: 3%;
        padding: 5%;
        border: 4px solid;
        border-color: blueviolet;
        border-radius: 10% 0%;
    }
    body{
        background-color: rgb(132, 138, 136);
    }

    </style>

    <title>Examen 3 Parcial</title>
</head>
<center>
<body>
    <form id="myform">
        <p> 
            Cadena de Caracteres: <input type="text" id="cadena" name="cadena" size="100">
            Presiona el boton para ejecutar y cifrar. Después preciona el Aceptar para mostrar el PDF.
            <button type="button" onclick="codificacion();">CODIGO!!</button>
        </p>
    </form>
    <iframe frameborder="0" width="500" height="500"></iframe>
    
    <script>
        function codificacion() {
            var palabra = document.getElementById("cadena").value;
            var pal = "ABCDEFGHIJKLMNÑOPQRSTUVWXYZ";
            var pal2 = "abcdefghijklmnñopqrstuvwxyz";
            var letra = "ICÑHOMTLBSARQPEWJFVUKXDYNG";
            var palabra2 = " ";

            for (let i = 0; i < palabra.length; i++) {
                for (let j = 0; j < 27; j++) {
                    if (palabra[i] == pal[j] || palabra[i] == pal2[j]) {
                        palabra2 += letra[j];
                        console.log(palabra2);
                        palabra[i]=true;
                        break;
                    }
                    else if(palabra[i] == false || palabra[i] == false){
                        palabra2 += palabra[i];
                        console.log(palabra2);
                        break;
                    }
                }
            }
            
            alert("Frase original: "+ palabra +" Frase codificada: "+ palabra2 +"."); 
            
       $(document).ready(function() {
		var doc = new jsPDF();
		doc.setFontSize(20);
		doc.text("Frase original: "+palabra +".",5, 50);
		doc.text(" Frase codificada: "+ palabra2 +".",5, 30 );
		var string = doc.output('datauristring');
		$('iframe').attr('src', string);
		});
        return false;
    }
</script>
   
</body>
</center>
</html>